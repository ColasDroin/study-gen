# Generate and write particle distribution
gen1:
  script:
    prepare_mad_environment:
      args: links
      output: b1b2_name, mad_b1b2, b4_name, mad_b4
    build_hllhc_sequence:
      args: [b1b2_name, mad_b1b2, apply_acsca_fix, cycle_to_IP3, incorporate_CC]
      output: mad_b1b2
    build_hllhc_sequence:
      args: [b4_name, mad_b4, apply_acsca_fix, cycle_to_IP3, incorporate_CC]
      output: mad_b4
    apply_optics:
      args: [mad_b1b2, optics_file]
      output: mad_b1b2
    
gen2:
  script:
    load_collider_json:
      args: name_base_collider
      output: collider
    generate_orbit_configuration_setup:
      args:
      output: correction_setup
    dump_orbit_configuration_files:
      args: correction_setup
      output: path_correction_setup
    install_beam_beam:
      args: collider, num_long_range_encounters_per_side, num_slices_head_on, bunch_spacing_buckets, sigma_z
      
    
  


  # parameters:
  #   a:
  #     range: [1, 100]
  #     steps: 3
  #   b:
  #     range: [10, 20]
  #     steps: 2
